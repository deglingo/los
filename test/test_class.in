/* -*- c -*- */

header
{
##include "los/lobject.h"
##include "test/lostestfake.h"
}

unit /* FakeClass */
{
  test {
    LObjectClass *cls = CLASS_FAKE;
    PIF_CHECK(cls);
    /* class initialization must call the class_init handler */
    PIF_CHECK(((FakeClass *) cls)->dummy == 42);
  }
}

unit /* Fake2Class */
{
  test {
    LObjectClass *cls = CLASS_FAKE2;
    PIF_CHECK(cls);
    /* class initialization must copy the base class and call the
       class_init handler */
    PIF_CHECK(((FakeClass *) cls)->dummy == 84);
  }
}
