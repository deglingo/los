/* -*- c -*- */

header
{
##include "los/ltrash.h"
##include "los/lparamspecpool.h"
}

#define TRASH_POOL(p) (l_trash_add((p), (GDestroyNotify) l_param_spec_pool_free))

data
{
  LParamSpecPool *pool;
}

setup
{
  l_trash_push();
  data->pool = TRASH_POOL
    (l_param_spec_pool_new());
}

teardown
{
  l_trash_pop();
}

test new
{
  PIF_CHECK(data->pool);
}

test register
{
  LParamSpec *p1 = l_param_spec_int("p1", 0);
  l_param_spec_pool_register(data->pool, NULL /* [fixme] */, 1, p1);
}
